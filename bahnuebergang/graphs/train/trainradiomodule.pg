graph TrainRadioModule {

    states {Idle, Sending, Receiving}

    init: Idle{ }

    transitions {
        Idle -> Sending {
            guard { TrainControl = EP }
        }

        Sending -> Sending {
            guard { TrainControl = AP }
        }

        Sending -> Receiving {
            guard { CrossingRadio = Sending }
        }

    }

}