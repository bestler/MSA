graph BarrierMotor {

    states { Idle, Forward, Backward }

    init: Idle { }

    transitions {
        Idle -> Forward {
            guard { CrossingControl = Closing }
            
        }
        
        Forward -> Idle {
            guard { CrossingControl = Safe }
        }

        Idle -> Backward {
            guard { CrossingControl = Opening }  
        }

        Backward -> Idle {
            guard { CrossingControl = NotSafe }
        }

    }        

}