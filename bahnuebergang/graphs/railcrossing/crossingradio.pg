graph CrossingRadio {

    states {Idle, Sending, Receiving}

    init: Idle {}

    transitions {

        Idle -> Receiving { 
            guard { TrainRadioModule = Sending }
        }

        Receiving -> Sending { 
            guard { CrossingControl = Safe }
        }
    }

}